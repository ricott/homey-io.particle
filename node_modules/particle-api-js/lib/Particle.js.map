{"version":3,"sources":["../src/Particle.js"],"names":["Particle","options","context","agent","baseUrl","name","undefined","_isValidContext","Error","username","password","tokenDuration","request","uri","form","grant_type","client_id","clientId","client_secret","clientSecret","expires_in","method","mfa_token","mfaToken","otp","auth","get","post","current_password","currentPassword","put","email","product","accountInfo","account_info","token","delete","access_token","full","tracking","deviceId","deviceName","sortAttr","sortDir","page","perPage","query","per_page","deviceUri","requestTransfer","id","request_transfer","deny","data","updateDevice","signal","notes","development","desiredFirmwareVersion","flash","desired_firmware_version","productId","product_id","iccid","promoCode","files","targetVersion","build_target_version","latest","console","warning","app","platformId","platform_id","binaryId","req","use","prefix","headers","debug","key","algorithm","deviceID","publicKey","toString","filename","order","Date","now","argument","args","org","toLowerCase","encodeURIComponent","connect","isPrivate","postData","private","url","requestType","json","body","responseTemplate","responseTopic","rejectUnauthorized","webhookAuth","noDefaults","event","deviceid","hookId","integrationType","settings","integrationId","bodyObj","head","iccids","country","sims","action","mbLimit","mb_limit","onlyFeatured","featured","limit","filter","sort","architectures","category","scope","excludeScopes","_asList","value","Array","isArray","join","version","archive","visibility","force","getXHR","buffer","parse","responseType","then","res","xhr","response","type","redirect_uri","file","title","description","serialNumber","device_id","networkId","updateMeshNetwork","role","_buildContext","api","prototype","removeAccessToken","deleteAccessToken"],"mappings":"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","file":"Particle.js","sourcesContent":["import request from 'superagent';\nimport binaryParser from './superagent-binary-parser';\nimport Defaults from './Defaults';\nimport EventStream from './EventStream';\nimport Agent from './Agent';\nimport Client from './Client';\n\n/**\n * Particle Cloud API wrapper.\n *\n * See <https://docs.particle.io/reference/javascript/> for examples\n * of using the `Particle` class.\n *\n * Most Particle methods take a single unnamed argument object documented as\n * `options` with key/value pairs for each option.\n */\nclass Particle {\n\t/**\n\t * Contructor for the Cloud API wrapper.\n\t *\n\t * Create a new Particle object and call methods below on it.\n\t *\n\t * @param  {Object} options Options for this API call Options to be used for all requests (see [Defaults](../src/Defaults.js))\n\t */\n\tconstructor(options = {}) {\n\t\t// todo - this seems a bit dangerous - would be better to put all options/context in a contained object\n\t\tObject.assign(this, Defaults, options);\n\t\tthis.context = {};\n\t\tthis.agent = new Agent(this.baseUrl);\n\t}\n\n\t_isValidContext(name, context) {\n\t\treturn (name==='tool' || name==='project') && context!==undefined;\n\t}\n\n\tsetContext(name, context) {\n\t\tif (context!==undefined) {\n\t\t\tif (this._isValidContext(name, context)) {\n\t\t\t\tthis.context[name] = context;\n\t\t\t} else {\n\t\t\t\tthrow Error('uknown context name or undefined context: '+name);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Builds the final context from the context parameter and the context items in the api.\n\t * @param  {Object} context       The invocation context, this takes precedence over the local context.\n\t * @return {Object} The context to use.\n\t * @private\n\t */\n\t_buildContext(context) {\n\t\treturn Object.assign(this.context, context);\n\t}\n\n\t/**\n\t * Login to Particle Cloud using an existing Particle acccount.\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.username      Username for the Particle account\n\t * @param  {String} options.password      Password for the Particle account\n\t * @param  {Number} options.tokenDuration How long the access token should last in seconds\n\t * @return {Promise}\n\t */\n\tlogin({ username, password, tokenDuration = this.tokenDuration, context }) {\n\t\treturn this.request({ uri: '/oauth/token', form: {\n\t\t\tusername,\n\t\t\tpassword,\n\t\t\tgrant_type: 'password',\n\t\t\tclient_id: this.clientId,\n\t\t\tclient_secret: this.clientSecret,\n\t\t\texpires_in: tokenDuration\n\t\t}, method: 'post', context });\n\t}\n\n\t/**\n\t * If login failed with an 'mfa_required' error, this must be called with a valid OTP code to login\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.mfaToken Given as 'mfa_token' in the error body of `.login()`.\n\t * @param  {String} options.otp      Current one-time-password generated from the authentication application\n\t * @param  {Number} options.context  Request context\n\t * @return {Promise}\n\t */\n\tsendOtp({ mfaToken: mfa_token, otp, context }) {\n\t\treturn this.request({ uri: '/oauth/token', form: {\n\t\t\tgrant_type: 'urn:custom:mfa-otp',\n\t\t\tmfa_token,\n\t\t\totp,\n\t\t\tclient_id: this.clientId,\n\t\t\tclient_secret: this.clientSecret\n\t\t}, method: 'post', context });\n\t}\n\n\t/**\n\t * Enable MFA on the currently logged in user\n\t * @param {Object} options\tOptions for this API call\n\t * @param {Object} options.auth\t\taccess token\n\t * @param {Object} options.context\tRequest context\n\t * @return {Promise}\n\t */\n\tenableMfa({ auth, context }) {\n\t\treturn this.get('/v1/user/mfa-enable', auth, undefined, context);\n\t}\n\n\t/**\n\t * Confirm MFA for the user. This must be called with current TOTP code, determined from the results of enableMfa(). You will be prompted to enter an OTP code every time you login after enrollment is confirmed.\n\t * @param {Object} options\tOptions for this API call\n\t * @param {Object} options.auth\t\taccess token\n\t * @param {Object} options.mfaToken\tToken given from previous step to\n\t * @param {Object} options.otp\t\tCurrent one-time-password generated from the authentication app\n\t * @param {Object} options.context\tRequest context\n\t * @return {Promise}\n\t */\n\tconfirmMfa({ auth, mfaToken: mfa_token, otp, context }) {\n\t\treturn this.post('/v1/user/mfa-enable', { mfa_token, otp }, auth, context);\n\t}\n\n\t/**\n\t * Disable MFA for the user.\n\t * @param {Object} options\tOptions for this API call\n\t * @param {Object} options.auth\t\t\t\taccess token\n\t * @param {Object} options.currentPassword\tUser's current password\n\t * @param {Object} options.context\t\t\tRequest context\n\t * @return {Promise}\n\t */\n\tdisableMfa({ auth, currentPassword: current_password, context }) {\n\t\treturn this.put('/v1/user/mfa-disable', { current_password }, auth, context);\n\t}\n\n\t/**\n\t * Create Customer for Product.\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.username      Username for the Particle account\n\t * @param  {String} options.password      Password for the Particle account\n\t * @param  {String} options.product       List devices in this product ID or slug\n\t * @return {Promise}\n\t */\n\tcreateCustomer({ email, password, product, context }) {\n\t\tconst uri =`/v1/products/${product}/customers`;\n\t\treturn this.request({ uri: uri, form: {\n\t\t\temail,\n\t\t\tpassword,\n\t\t\tgrant_type: 'client_credentials',\n\t\t\tclient_id: this.clientId,\n\t\t\tclient_secret: this.clientSecret\n\t\t}, method: 'post', context });\n\t}\n\n\t/**\n\t * Login to Particle Cloud using an OAuth client.\n\t * @param  {Object} options Options for this API call\n\t * @param  {Object} options.context   Context information.\n\t * @return {Promise}\n\t */\n\tloginAsClientOwner({ context }) {\n\t\treturn this.request({ uri: '/oauth/token', form: {\n\t\t\tgrant_type: 'client_credentials',\n\t\t\tclient_id: this.clientId,\n\t\t\tclient_secret: this.clientSecret\n\t\t}, method: 'post', context });\n\t}\n\n\t/**\n\t * Create a user account for the Particle Cloud\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.username Email of the new user\n\t * @param  {String} options.password Password\n\t * @param  {String} options.accountInfo Object that contains account information fields such as user real name, company name, business account flag etc\n\t * @return {Promise}\n\t */\n\tcreateUser({ username, password, accountInfo, context }) {\n\t\treturn this.post('/v1/users', {\n\t\t\tusername,\n\t\t\tpassword,\n\t\t\taccount_info : accountInfo\n\t\t}, undefined, context);\n\t}\n\n\t/**\n\t * Verify new user account via verification email\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.token the string token sent in the verification email\n\t * @return {Promise}\n\t */\n\tverifyUser({ token, context }) {\n\t\treturn this.post('/v1/user/verify', {\n\t\t\ttoken\n\t\t}, undefined, context);\n\t}\n\n\t/**\n\t * Send reset password email for a Particle Cloud user account\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.username Email of the user\n\t * @return {Promise}\n\t */\n\tresetPassword({ username, context }) {\n\t\treturn this.post('/v1/user/password-reset', { username }, undefined, context);\n\t}\n\n\t/**\n\t * Revoke an access token\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.username Username of the Particle cloud account that the token belongs to.\n\t * @param  {String} options.password Password for the account\n\t * @param  {String} options.token    Access token you wish to revoke\n\t * @return {Promise}\n\t */\n\tdeleteAccessToken({ username, password, token, context }) {\n\t\treturn this.delete(`/v1/access_tokens/${token}`, {\n\t\t\taccess_token: token\n\t\t}, { username, password }, context);\n\t}\n\n\t/**\n\t * Revoke the current session access token\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.auth         Access Token\n\t * @return {Promise}\n\t */\n\tdeleteCurrentAccessToken({ auth, context }) {\n\t\treturn this.delete('/v1/access_tokens/current', undefined, auth, context);\n\t}\n\n\t/**\n\t * List all valid access tokens for a Particle Cloud account\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.username Username\n\t * @param  {String} options.password Password\n\t * @return {Promise}\n\t */\n\tlistAccessTokens({ username, password, context }) {\n\t\treturn this.get('/v1/access_tokens', { username, password }, undefined, context);\n\t}\n\n\t/**\n\t * Retrieves the information that is used to identify the current login for tracking.\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.auth      The access token\n\t * @param  {Boolean} options.full      When true, retrieve all information for registering a user with the tracking API. When false,\n\t *  retrieve only the unique tracking ID for the current login.\n\t * @param  {Object} options.context   Context information.\n\t * @returns {Promise<Object>} Resolve the tracking identify of the current login\n\t */\n\ttrackingIdentity({ auth, full = false, context } = {}) {\n\t\treturn this.get('/v1/user/identify', auth, (full ? undefined : { tracking: 1 }), context);\n\t}\n\n\t/**\n\t * List devices claimed to the account or product\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} [options.deviceId]   (Product only) Filter results to devices with this ID (partial matching)\n\t * @param  {String} [options.deviceName] (Product only) Filter results to devices with this name (partial matching)\n\t * @param  {String} [options.sortAttr]   (Product only) The attribute by which to sort results. See API docs for options.\n\t * @param  {String} [options.sortDir]    (Product only) The direction of sorting. See API docs for options.\n\t * @param  {Number} [options.page]       (Product only) Current page of results\n\t * @param  {Number} [options.perPage]    (Product only) Records per page\n\t * @param  {String} [options.product]    List devices in this product ID or slug\n\t * @param  {String} options.auth         Access Token\n\t * @return {Promise}\n\t */\n\tlistDevices({ deviceId, deviceName, sortAttr, sortDir, page, perPage, product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/devices` : '/v1/devices';\n\t\tconst query = product ? { deviceId, deviceName, sortAttr, sortDir, page, per_page: perPage } : undefined;\n\t\treturn this.get(uri, auth, query, context);\n\t}\n\n\t/**\n\t * Get detailed informationa about a device\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId  Device ID or Name\n\t * @param  {String} [options.product] Device in this product ID or slug\n\t * @param  {String} options.auth      Access token\n\t * @return {Promise}\n\t */\n\tgetDevice({ deviceId, product, auth, context }) {\n\t\tconst uri = this.deviceUri({ deviceId, product });\n\t\treturn this.get(uri, auth, undefined, context);\n\t}\n\n\t/**\n\t * Claim a device to the account. The device must be online and unclaimed.\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId Device ID\n\t * @param  {String} options.auth     Access Token\n\t * @return {Promise}\n\t */\n\tclaimDevice({ deviceId, requestTransfer, auth, context }) {\n\t\treturn this.post('/v1/devices', {\n\t\t\tid: deviceId,\n\t\t\trequest_transfer: !!requestTransfer\n\t\t}, auth, context);\n\t}\n\n\t/**\n\t * Add a device to a product or move device out of quarantine.\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId Device ID\n\t * @param  {String} options.product  Add to this product ID or slug\n\t * @param  {String} options.auth     Access Token\n\t * @return {Promise}\n\t */\n\taddDeviceToProduct({ deviceId, product, auth, context }) {\n\t\tconst uri = `/v1/products/${product}/devices`;\n\t\treturn this.post(uri, {\n\t\t\tid: deviceId\n\t\t}, auth, context);\n\t}\n\n\t/**\n\t * Unclaim / Remove a device from your account or product, or deny quarantine\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId Device ID or Name\n\t * @param  {Boolean} [options.deny]  (Product only) Deny this quarantined device, instead of removing an already approved device\n\t * @param  {String} options.product  Remove from this product ID or slug\n\t * @param  {String} options.auth     Access Token\n\t * @return {Promise}\n\t */\n\tremoveDevice({ deviceId, deny, product, auth, context }) {\n\t\tconst uri = this.deviceUri({ deviceId, product });\n\t\tconst data = product ? { deny } : undefined;\n\t\treturn this.delete(uri, data, auth, context);\n\t}\n\n\t/**\n\t * Unclaim a product device its the owner, but keep it in the product\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId Device ID or Name\n\t * @param  {String} options.product  Remove from this product ID or slug\n\t * @param  {String} options.auth     Access Token\n\t * @return {Promise}\n\t */\n\tremoveDeviceOwner({ deviceId, deny, product, auth, context }) {\n\t\tconst uri = `/v1/products/${product}/devices/${deviceId}/owner`;\n\t\treturn this.delete(uri, undefined, auth, context);\n\t}\n\n\t/**\n\t * Rename a device\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId Device ID or Name\n\t * @param  {String} options.name     Desired Name\n\t * @param  {String} [options.product] Rename device in this product ID or slug\n\t * @param  {String} options.auth     Access Token\n\t * @return {Promise}\n\t */\n\trenameDevice({ deviceId, name, product, auth, context }) {\n\t\treturn this.updateDevice({ deviceId, name, product, auth, context });\n\t}\n\n\t/**\n\t * Instruct the device to turn on/off the LED in a rainbow pattern\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId Device ID or Name\n\t * @param  {Boolean} options.signal   Signal on or off\n\t * @param  {String} [options.product] Device in this product ID or slug\n\t * @param  {String} options.auth     Access Token\n\t * @return {Promise}\n\t */\n\tsignalDevice({ deviceId, signal, product, auth, context }) {\n\t\treturn this.updateDevice({ deviceId, signal, product, auth, context });\n\t}\n\n\t/**\n\t * Store some notes about device\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId  Device ID or Name\n\t * @params {String} options.notes     Your notes about this device\n\t * @param  {String} [options.product] Device in this product ID or slug\n\t * @param  {String} options.auth      Access Token\n\t * @return {Promise}\n\t */\n\tsetDeviceNotes({ deviceId, notes, product, auth, context }) {\n\t\treturn this.updateDevice({ deviceId, notes, product, auth, context });\n\t}\n\n\t/**\n\t * Mark device as being used in development of a product so it opts out of automatic firmware updates\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId      Device ID or Name\n\t * @param  {Boolean} options.development  Set to true to mark as development, false to return to product fleet\n\t * @param  {String} options.product       Device in this product ID or slug\n\t * @param  {String} options.auth          Access Token\n\t * @return {Promise}\n\t */\n\tmarkAsDevelopmentDevice({ deviceId, development = true, product, auth, context }) {\n\t\treturn this.updateDevice({ deviceId, development, product, auth, context });\n\t}\n\n\t/**\n\t * Mark device as being used in development of a product so it opts out of automatic firmware updates\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId      Device ID or Name\n\t * @params {Number} options.desiredFirmwareVersion Lock the product device to run this firmware version.\n\t * @params {Boolean} [options.flash]      Immediately flash firmware indicated by desiredFirmwareVersion\n\t * @param  {String} options.product       Device in this product ID or slug\n\t * @param  {String} options.auth          Access Token\n\t * @return {Promise}\n\t */\n\tlockDeviceProductFirmware({ deviceId, desiredFirmwareVersion, flash, product, auth, context }) {\n\t\treturn this.updateDevice({ deviceId, desiredFirmwareVersion, flash, product, auth, context });\n\t}\n\n\t/**\n\t * Mark device as receiving automatic firmware updates\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId      Device ID or Name\n\t * @param  {String} options.product       Device in this product ID or slug\n\t * @param  {String} options.auth          Access Token\n\t * @return {Promise}\n\t */\n\tunlockDeviceProductFirmware({ deviceId, product, auth, context }) {\n\t\treturn this.updateDevice({ deviceId, desiredFirmwareVersion: null, product, auth, context });\n\t}\n\n\t/**\n\t * Update multiple device attributes at the same time\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId       Device ID or Name\n\t * @param  {String} [options.name]         Desired Name\n\t * @param  {Boolean} options.signal        Signal device on or off\n\t * @params {String} [options.notes]        Your notes about this device\n\t * @param  {Boolean} [options.development] (Product only) Set to true to mark as development, false to return to product fleet\n\t * @params {Number} [options.desiredFirmwareVersion] (Product only) Lock the product device to run this firmware version.\n\t *                                              Pass `null` to unlock firmware and go back to released firmware.\n\t * @params {Boolean} [options.flash]       (Product only) Immediately flash firmware indicated by desiredFirmwareVersion\n\t * @param  {String} [options.product]      Device in this product ID or slug\n\t * @param  {String} options.auth           Access Token\n\t * @return {Promise}\n\t */\n\tupdateDevice({ deviceId, name, signal, notes, development, desiredFirmwareVersion, flash, product, auth, context }) {\n\t\tsignal = signal ? '1' : '0';\n\t\tconst uri = this.deviceUri({ deviceId, product });\n\t\tconst data = product ?\n\t\t\t{ name, signal, notes, development, desired_firmware_version: desiredFirmwareVersion, flash } :\n\t\t\t{ name, signal, notes };\n\t\treturn this.put(uri, data, auth, context);\n\t}\n\n\t/**\n\t * Provision a new device for products that allow self-provisioning\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.productId Product ID where to create this device\n\t * @param  {String} options.auth      Access Token\n\t * @return {Promise}\n\t */\n\tprovisionDevice({ productId, auth, context }) {\n\t\treturn this.post('/v1/devices', { product_id: productId }, auth, context);\n\t}\n\n\t/**\n\t * Generate a claim code to use in the device claiming process.\n\t * To generate a claim code for a product, the access token MUST belong to a\n\t * customer of the product.\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} [options.iccid] ICCID of the SIM card used in the Electron\n\t * @param  {String} [options.product] Device in this product ID or slug\n\t * @param  {String} options.auth  Access Token\n\t * @return {Promise}\n\t */\n\tgetClaimCode({ iccid, product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/device_claims` : '/v1/device_claims';\n\t\treturn this.post(uri, { iccid }, auth, context);\n\t}\n\n\tvalidatePromoCode({ auth, promoCode, context }) {\n\t\treturn this.get(`/v1/promo_code/${promoCode}`, auth, undefined, context);\n\t}\n\n\tchangeProduct({ deviceId, productId, auth, context }) {\n\t\treturn this.put(`/v1/devices/${deviceId}`, {\n\t\t\tproduct_id: productId\n\t\t}, auth, context);\n\t}\n\n\t/**\n\t * Get the value of a device variable\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId Device ID or Name\n\t * @param  {String} options.name     Variable name\n\t * @param  {String} [options.product] Device in this product ID or slug\n\t * @param  {String} options.auth     Access Token\n\t * @return {Promise}\n\t */\n\tgetVariable({ deviceId, name, product, auth, context }) {\n\t\tconst uri = product ?\n\t\t\t`/v1/products/${product}/devices/${deviceId}/${name}` :\n\t\t\t`/v1/devices/${deviceId}/${name}`;\n\t\treturn this.get(uri, auth, undefined, context);\n\t}\n\n\t/**\n\t * Compile and flash application firmware to a device. Pass a pre-compiled binary to flash it directly to the device.\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId      Device ID or Name\n\t * @param  {String} options.product       Flash device in this product ID or slug\n\t * @param  {Object} options.files         Object containing files to be compiled and flashed. Keys should be the filenames, including relative path, and the values should be a path or Buffer of the file contents in Node, or a File or Blob in the browser.\n\t * @param  {String} [options.targetVersion=latest] System firmware version to compile against\n\t * @param  {String} options.auth          String\n\t * @return {Promise}\n\t */\n\tflashDevice({ deviceId, product, files, targetVersion, auth, context }) {\n\t\tconst uri = this.deviceUri({ deviceId, product });\n\t\tconst form = {};\n\t\tif (targetVersion) {\n\t\t\tform.build_target_version = targetVersion;\n\t\t} else {\n\t\t\tform.latest = 'true';\n\t\t}\n\t\treturn this.request({ uri, files, auth, form, context, method: 'put' });\n\t}\n\n\t/**\n\t * DEPRECATED: Flash the Tinker application to a device. Instead compile and flash the Tinker source code.\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId Device ID or Name\n\t * @param  {String} options.auth     Access Token\n\t * @return {Promise}\n\t */\n\tflashTinker({ deviceId, auth, context }) {\n\t\t/* eslint-disable no-console */\n\t\tif (console && console.warning) {\n\t\t\tconsole.warning('Particle.flashTinker is deprecated');\n\t\t}\n\t\t/* eslint-enable no-console */\n\t\treturn this.put(`/v1/devices/${deviceId}`, {\n\t\t\tapp: 'tinker'\n\t\t}, auth, context);\n\t}\n\n\t/**\n\t * Compile firmware using the Particle Cloud\n\t * @param  {Object} options Options for this API call\n\t * @param  {Object} options.files         Object containing files to be compiled. Keys should be the filenames, including relative path, and the values should be a path or Buffer of the file contents in Node, or a File or Blob in the browser.\n\t * @param  {Number} [options.platformId]    Platform id number of the device you are compiling for. Common values are 0=Core, 6=Photon, 10=Electron.\n\t * @param  {String} [options.targetVersion=latest] System firmware version to compile against\n\t * @param  {String} options.auth          Access Token\n\t * @return {Promise}\n\t */\n\tcompileCode({ files, platformId, targetVersion, auth, context }) {\n\t\tconst form = { platform_id: platformId };\n\t\tif (targetVersion) {\n\t\t\tform.build_target_version = targetVersion;\n\t\t} else {\n\t\t\tform.latest = 'true';\n\t\t}\n\t\treturn this.request({ uri: '/v1/binaries',\n\t\t\tfiles, auth, form, context, method: 'post' });\n\t}\n\n\t/**\n\t * Download a firmware binary\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.binaryId Binary ID received from a successful compile call\n\t * @param  {String} options.auth     Access Token\n\t * @return {Request}\n\t */\n\tdownloadFirmwareBinary({ binaryId, auth, context }) {\n\t\tconst uri = `/v1/binaries/${binaryId}`;\n\t\tconst req = request('get', uri);\n\t\treq.use(this.prefix);\n\t\tthis.headers(req, auth);\n\t\tif (this.debug) {\n\t\t\tthis.debug(req);\n\t\t}\n\t\treturn req;\n\t}\n\n\t/**\n\t * Send a new device public key to the Particle Cloud\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId  Device ID or Name\n\t * @param  {(String|Buffer)} options.key       Public key contents\n\t * @param  {String} [options.algorithm=rsa] Algorithm used to generate the public key. Valid values are `rsa` or `ecc`.\n\t * @param  {String} options.auth      Access Token\n\t * @return {Promise}\n\t */\n\tsendPublicKey({ deviceId, key, algorithm, auth, context }) {\n\t\treturn this.post(`/v1/provisioning/${deviceId}`, {\n\t\t\tdeviceID: deviceId,\n\t\t\tpublicKey: ( typeof key === 'string' ? key : key.toString() ),\n\t\t\tfilename: 'particle-api',\n\t\t\torder: `manual_${ Date.now() }`,\n\t\t\talgorithm: algorithm || 'rsa'\n\t\t}, auth, context);\n\t}\n\n\t/**\n\t * Call a device function\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId Device ID or Name\n\t * @param  {String} options.name     Function name\n\t * @param  {String} options.argument Function argument\n\t * @param  {String} [options.product] Device in this product ID or slug\n\t * @param  {String} options.auth     Access Token\n\t * @return {Promise}\n\t */\n\tcallFunction({ deviceId, name, argument, product, auth, context }) {\n\t\tconst uri = product ?\n\t\t\t`/v1/products/${product}/devices/${deviceId}/${name}` :\n\t\t\t`/v1/devices/${deviceId}/${name}`;\n\t\treturn this.post(uri, { args: argument }, auth, context);\n\t}\n\n\t/**\n\t * Get a stream of events\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} [options.deviceId] Device ID or Name, or `mine` to indicate only your devices.\n\t * @param  {String} [options.name]     Event Name\n\t * @param  {String} [options.org]     Organization Slug\n\t * @param  {String} [options.product] Events for this product ID or slug\n\t * @param  {String} options.auth     Access Token\n\t * @return {Promise} If the promise resolves, the resolution value will be an EventStream object that will\n\t * emit 'event' events, as well as the specific named event.\n\t */\n\tgetEventStream({ deviceId, name, org, product, auth, context }) {\n\t\tlet uri = '/v1/';\n\t\tif (org) {\n\t\t\turi += `orgs/${org}/`;\n\t\t}\n\n\t\tif (product) {\n\t\t\turi += `products/${product}/`;\n\t\t}\n\n\t\tif (deviceId) {\n\t\t\turi += 'devices/';\n\t\t\tif (!(deviceId.toLowerCase() === 'mine')) {\n\t\t\t\turi += `${deviceId}/`;\n\t\t\t}\n\t\t}\n\n\t\turi += 'events';\n\n\t\tif (name) {\n\t\t\turi += `/${encodeURIComponent(name)}`;\n\t\t}\n\n\t\treturn new EventStream(`${this.baseUrl}${uri}`, auth, { debug: this.debug }).connect();\n\t}\n\n\t/**\n\t * Publish a event to the Particle Cloud\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.name      Event name\n\t * @param  {String} options.data      Event data\n\t * @param  {Boolean} options.isPrivate Should the event be publicly available?\n\t * @param  {String} [options.product]  Event for this product ID or slug\n\t * @param  {String} options.auth      Access Token\n\t * @return {Promise}\n\t */\n\tpublishEvent({ name, data, isPrivate, product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/events` : '/v1/devices/events';\n\t\tconst postData = { name, data, private: isPrivate };\n\t\treturn this.post(uri, postData, auth, context);\n\t}\n\n\t/**\n\t * Create a webhook\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId           Trigger webhook only for this device ID or Name\n\t * @param  {String} options.name               Webhook name\n\t * @param  {String} options.url                URL the webhook should hit\n\t * @param  {String} [options.requestType=POST]        HTTP method to use\n\t * @param  {Object} [options.headers]            Additional headers to add to the webhook\n\t * @param  {Object} [options.json]               JSON data\n\t * @param  {Object} [options.query]              Query string data\n\t * @param  {String} [options.body]               Custom webhook request body\n\t * @param  {Object} [options.responseTemplate]   Webhook response template\n\t * @param  {Object} [options.responseTopic]      Webhook response topic\n\t * @param  {Boolean} [options.rejectUnauthorized] Reject invalid HTTPS certificates\n\t * @params {Boolean} [options.noDefaults]        Don't include default event data in the webhook request\n\t * @param  {Object} [options.webhookAuth]        HTTP Basic Auth information\n\t * @param  {Object} [options.form]               Form data\n\t * @param  {String} [options.product]          Webhook for this product ID or slug\n\t * @param  {String} options.auth               Access Token\n\t * @return {Promise}\n\t */\n\tcreateWebhook({ deviceId, name, url, requestType, headers, json, query, body, responseTemplate, responseTopic, rejectUnauthorized, webhookAuth, noDefaults, form, product, auth, context }) {\n\t\t// deviceId: 'mine' is deprecated since webhooks only trigger on your device anyways\n\t\tif (deviceId === 'mine') {\n\t\t\tdeviceId = undefined;\n\t\t}\n\t\tconst uri = product ? `/v1/products/${product}/webhooks` : '/v1/webhooks';\n\t\tconst data = { event: name, deviceid: deviceId, url, requestType, headers, json, query, body, responseTemplate, responseTopic, rejectUnauthorized, auth: webhookAuth, noDefaults, form };\n\t\treturn this.post(uri, data, auth, context);\n\t}\n\n\t/**\n\t * Delete a webhook\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.hookId Webhook ID\n\t * @param  {String} [options.product]          Webhook for this product ID or slug\n\t * @param  {String} options.auth   Access Token\n\t * @return {Promise}\n\t */\n\tdeleteWebhook({ hookId, product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/webhooks/${hookId}` : `/v1/webhooks/${hookId}`;\n\t\treturn this.delete(uri, undefined, auth, context);\n\t}\n\n\t/**\n\t * List all webhooks owned by the account or product\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} [options.product]          Webhooks for this product ID or slug\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tlistWebhooks({ product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/webhooks` : '/v1/webhooks';\n\t\treturn this.get(uri, auth, undefined, context);\n\t}\n\n\t/**\n\t * Create an integration to send events to an external service\n     *\n\t * See the API docs for details https://docs.particle.io/reference/api/#integrations-webhooks-\n\t *\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.integrationType  The kind of external integration. One of Webhook, AzureIotHub, GoogleCloudPubSub, GoogleMaps\n\t * @param  {String} options.event            Event that triggers the integration\n\t * @params {Object} options.settings         Settings specific to that integration type\n\t * @param  {String} [options.deviceId]       Trigger integration only for this device ID or Name\n\t * @param  {String} [options.product]        Integration for this product ID or slug\n\t * @param  {String} options.auth             Access Token\n\t * @return {Promise}\n\t */\n\tcreateIntegration({ integrationType, event, settings, deviceId, product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/integrations` : '/v1/integrations';\n\t\tconst data = Object.assign({ event, deviceid: deviceId }, settings);\n\t\treturn this.post(uri, data, auth, context);\n\t}\n\n\t/**\n\t * Edit an integration to send events to an external service\n\t *\n\t * See the API docs for details https://docs.particle.io/reference/api/#integrations-webhooks-\n\t *\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.integrationId    The integration to edit\n\t * @param  {String} [options.event]          Change the event that triggers the integration\n\t * @params {Object} [options.settings]       Change the settings specific to that integration type\n\t * @param  {String} [options.deviceId]       Trigger integration only for this device ID or Name\n\t * @param  {String} [options.product]        Integration for this product ID or slug\n\t * @param  {String} options.auth             Access Token\n\t * @return {Promise}\n\t */\n\teditIntegration({ integrationId, event, settings, deviceId, product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/integrations/${integrationId}` : `/v1/integrations/${integrationId}`;\n\t\tconst data = Object.assign({ event, deviceid: deviceId }, settings);\n\t\treturn this.put(uri, data, auth, context);\n\t}\n\n\t/**\n\t * Delete an integration to send events to an external service\n\t *\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.integrationId    The integration to remove\n\t * @param  {String} [options.product]        Integration for this product ID or slug\n\t * @param  {String} options.auth             Access Token\n\t * @return {Promise}\n\t */\n\tdeleteIntegration({ integrationId, product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/integrations/${integrationId}` : `/v1/integrations/${integrationId}`;\n\t\treturn this.delete(uri, undefined, auth, context);\n\t}\n\n\t/**\n\t * List all integrations owned by the account or product\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} [options.product]        Integrations for this product ID or slug\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tlistIntegrations({ product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/integrations` : '/v1/integrations';\n\t\treturn this.get(uri, auth, undefined, context);\n\t}\n\n\t/**\n\t * Get details about the current user\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tgetUserInfo({ auth, context }) {\n\t\treturn this.get('/v1/user', auth, undefined, context);\n\t}\n\n\t/**\n\t * Set details on the current user\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.auth Access Token\n\t * @param  {String} options.accountInfo Set user's extended info fields (name, business account, company name, etc)\n\t * @return {Promise}\n\t */\n\tsetUserInfo({ accountInfo, auth, context }) {\n\t\tconst bodyObj = {\n\t\t\taccount_info: accountInfo\n\t\t};\n\n\t\treturn this.put('/v1/user', bodyObj, auth, context);\n\t}\n\n\t/**\n\t * Change username (i.e, email)\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.auth Access Token\n\t * @param  {String} options.currentPassword Current password\n\t * @param  {String} options.username New email\n\t * @return {Promise}\n\t */\n\tchangeUsername({ currentPassword, username, auth, context }) {\n\t\tconst bodyObj = {\n\t\t\tcurrent_password: currentPassword,\n\t\t\tusername\n\t\t};\n\n\t\treturn this.put('/v1/user', bodyObj, auth, context);\n\t}\n\n\t/**\n\t * Change user's password\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.auth Access Token\n\t * @param  {String} options.currentPassword Current password\n\t * @param  {String} options.password New password\n\t * @return {Promise}\n\t */\n\tchangeUserPassword({ currentPassword, password, auth, context }) {\n\t\tconst bodyObj = {\n\t\t\tcurrent_password: currentPassword,\n\t\t\tpassword\n\t\t};\n\n\t\treturn this.put('/v1/user', bodyObj, auth, context);\n\t}\n\n\t/**\n\t * List SIM cards owned by a user or product\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} [options.iccid]    (Product only) Filter to SIM cards matching this ICCID\n\t * @param  {String} [options.deviceId] (Product only) Filter to SIM cards matching this device ID\n\t * @param  {String} [options.deviceName] (Product only) Filter to SIM cards matching this device name\n\t * @param  {Number} [options.page]     (Product only) Current page of results\n\t * @param  {Number} [options.perPage]  (Product only) Records per page\n\t * @param  {String} [options.product]  SIM cards for this product ID or slug\n\t * @param  {String} options.auth       Access Token\n\t * @return {Promise}\n\t */\n\tlistSIMs({ iccid, deviceId, deviceName, page, perPage, product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/sims` : '/v1/sims';\n\t\tconst query = product ? { iccid, deviceId, deviceName, page, per_page: perPage } : undefined;\n\t\treturn this.get(uri, auth, query, context);\n\t}\n\n\t/**\n\t * Get data usage for one SIM card for the current billing period\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.iccid      ICCID of the SIM card\n\t * @param  {String} [options.product]  SIM card for this product ID or slug\n\t * @param  {String} options.auth       Access Token\n\t * @return {Promise}\n\t */\n\tgetSIMDataUsage({ iccid, product, auth, context }) {\n\t\tconst uri = product ?\n\t\t\t`/v1/products/${product}/sims/${iccid}/data_usage` :\n\t\t\t`/v1/sims/${iccid}/data_usage`;\n\t\treturn this.get(uri, auth, undefined, context);\n\t}\n\n\t/**\n\t * Get data usage for all SIM cards in a product the current billing period\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.product  SIM cards for this product ID or slug\n\t * @param  {String} options.auth     Access Token\n\t * @return {Promise}\n\t */\n\tgetFleetDataUsage({ product, auth, context }) {\n\t\treturn this.get(`/v1/products/${product}/sims/data_usage`, auth, undefined, context);\n\t}\n\n\tcheckSIM({ iccid, auth, context }) {\n\t\treturn this.head(`/v1/sims/${iccid}`, auth, undefined, context);\n\t}\n\n\t/**\n\t * Activate and add SIM cards to an account or product\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.iccid        ICCID of the SIM card\n\t * @param  {Array<String>} options.iccids (Product only) ICCID of multiple SIM cards to import\n\t * @param  {String} options.country The ISO country code for the SIM cards\n\t * @param  {String} [options.product]  SIM cards for this product ID or slug\n\t * @param  {String} options.auth       Access Token\n\t * @return {Promise}\n\t */\n\tactivateSIM({ iccid, iccids, country, promoCode, product, auth, context }) {\n\t\t// promoCode is deprecated\n\t\ticcids = iccids || [iccid];\n\t\tconst uri = product ? `/v1/products/${product}/sims` : `/v1/sims/${iccid}`;\n\t\tconst data = product ?\n\t\t\t{ sims: iccids, country } :\n\t\t\t{ country, promoCode, action: 'activate' };\n\t\tconst method = product ? 'post' : 'put';\n\n\t\treturn this.request({ uri, method, data, auth, context });\n\t}\n\n\t/**\n\t * Deactivate a SIM card so it doesn't incur data usage in future months.\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.iccid      ICCID of the SIM card\n\t * @param  {String} [options.product]  SIM cards for this product ID or slug\n\t * @param  {String} options.auth       Access Token\n\t * @return {Promise}\n\t */\n\tdeactivateSIM({ iccid, product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/sims/${iccid}` : `/v1/sims/${iccid}`;\n\t\tconst data = { action: 'deactivate' };\n\t\treturn this.put(uri, data, auth, context);\n\t}\n\n\t/**\n\t * Reactivate a SIM card the was deactivated or unpause a SIM card that was automatically paused\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.iccid      ICCID of the SIM card\n\t * @param  {Number} [options.mbLimit]  New monthly data limit. Necessary if unpausing a SIM card\n\t * @param  {String} [options.product]  SIM cards for this product ID or slug\n\t * @param  {String} options.auth       Access Token\n\t * @return {Promise}\n\t */\n\treactivateSIM({ iccid, mbLimit, product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/sims/${iccid}` : `/v1/sims/${iccid}`;\n\t\tconst data = { mb_limit: mbLimit, action: 'reactivate' };\n\t\treturn this.put(uri, data, auth, context);\n\t}\n\n\t/**\n\t * Update SIM card data limit\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.iccid        ICCID of the SIM card\n\t * @param  {Array}  options.mbLimit     Data limit in megabyte for the SIM card\n\t * @param  {String} [options.product]  SIM cards for this product ID or slug\n\t * @param  {String} options.auth       Access Token\n\t * @return {Promise}\n\t */\n\tupdateSIM({ iccid, mbLimit, product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/sims/${iccid}` : `/v1/sims/${iccid}`;\n\t\tconst data = { mb_limit: mbLimit };\n\t\treturn this.put(uri, data, auth, context);\n\t}\n\n\t/**\n\t * Remove a SIM card from an account so it can be activated by a different account\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.iccid      ICCID of the SIM card\n\t * @param  {String} [options.product]  SIM cards for this product ID or slug\n\t * @param  {String} options.auth       Access Token\n\t * @return {Promise}\n\t */\n\tremoveSIM({ iccid, product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/sims/${iccid}` : `/v1/sims/${iccid}`;\n\t\treturn this.delete(uri, undefined, auth, context);\n\t}\n\n\t/**\n\t * List valid build targets to be used for compiling\n\t * @param  {Object} options Options for this API call\n\t * @param  {Boolean} [options.onlyFeatured=false] Only list featured build targets\n\t * @param  {String} options.auth       Access Token\n\t * @return {Promise}\n\t */\n\tlistBuildTargets({ onlyFeatured, auth, context }) {\n\t\tlet query;\n\t\tif (onlyFeatured !== undefined) {\n\t\t\tquery = { featured: !!onlyFeatured };\n\t\t}\n\t\treturn this.get('/v1/build_targets', auth, query, context);\n\t}\n\n\t/**\n\t * List firmware libraries\n\t * @param  {Object} options Options for this API call\n\t * @param  {Number} options.page Page index (default, first page)\n\t * @param  {Number} options.limit Number of items per page\n\t * @param  {String} options.filter Search term for the libraries\n\t * @param  {String} options.sort Ordering key for the library list\n\t * @param  {Array<String>}  options.architectures List of architectures to filter\n\t * @param  {String} options.category Category to filter\n\t * @param  {String} options.scope The library scope to list. Default is 'all'. Other values are\n\t * - 'all' - list public libraries and my private libraries\n\t * - 'public' - list only public libraries\n\t * - 'private' - list only my private libraries\n\t * - 'mine' - list my libraries (public and private)\n\t * - 'official' - list only official libraries\n\t * - 'verified' - list only verified libraries\n\t * - 'featured' - list only featured libraries\n\t * @param  {String} options.excludeScopes  list of scopes to exclude\n\t * @param  {String} options.category Category to filter\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tlistLibraries({ page, limit, filter, sort, architectures, category, scope, excludeScopes, auth, context }) {\n\t\treturn this.get('/v1/libraries', auth, {\n\t\t\tpage,\n\t\t\tfilter,\n\t\t\tlimit,\n\t\t\tsort,\n\t\t\tarchitectures: this._asList(architectures),\n\t\t\tcategory,\n\t\t\tscope,\n\t\t\texcludeScopes: this._asList(excludeScopes)\n\t\t}, context);\n\t}\n\n\t_asList(value) {\n\t\treturn (Array.isArray(value) ? value.join(',') : value);\n\t}\n\n\t/**\n\t * Get firmware library details\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.name Name of the library to fetch\n\t * @param  {String} options.version Version of the library to fetch (default: latest)\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tgetLibrary({ name, version, auth, context }) {\n\t\treturn this.get(`/v1/libraries/${name}`, auth, { version }, context);\n\t}\n\n\t/**\n\t * Firmware library details for each version\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.name Name of the library to fetch\n\t * @param  {Number} options.page Page index (default, first page)\n\t * @param  {Number} options.limit Number of items per page\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tgetLibraryVersions({ name, page, limit, auth, context }) {\n\t\treturn this.get(`/v1/libraries/${name}/versions`, auth, {\n\t\t\tpage,\n\t\t\tlimit\n\t\t}, context);\n\t}\n\n\t/**\n\t * Contribute a new library version from a compressed archive\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.archive Compressed archive file containing the library sources\n\t *                                  Either a path or Buffer of the file contents in Node, or a File or Blob in the browser.\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tcontributeLibrary({ archive, auth, context }) {\n\t\tconst files = {\n\t\t\t'archive.tar.gz': archive\n\t\t};\n\n\t\treturn this.request({ uri: '/v1/libraries',\n\t\t\tfiles, auth, context, method: 'post' });\n\t}\n\n\t/**\n\t * Publish the latest version of a library to the public\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.name Name of the library to publish\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tpublishLibrary({ name, auth, context }) {\n\t\treturn this.request({ uri: `/v1/libraries/${name}`,\n\t\t\tauth, context, method: 'patch', data: { visibility: 'public' } });\n\t}\n\n\t/**\n\t * Delete one version of a library or an entire private library\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.name Name of the library to remove\n\t * @param  {String} options.force Key to force deleting a public library\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tdeleteLibrary({ name, force, auth, context }) {\n\t\treturn this.delete(`/v1/libraries/${name}`, { force }, auth, context);\n\t}\n\n\t/**\n\t * Download an external file that may not be on the API\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.url URL of the file.\n\t * @return {Promise} Resolves to a buffer with the file data\n\t */\n\tdownloadFile({ url }) {\n\t\tlet req = request.get(url);\n\t\t// Different API in Node and browser\n\t\tif (!request.getXHR) {\n\t\t\treq = req.buffer(true).parse(binaryParser);\n\t\t} else if (req.responseType) {\n\t\t\treq = req.responseType('arraybuffer').then(res => {\n\t\t\t\tres.body = res.xhr.response;\n\t\t\t\treturn res;\n\t\t\t});\n\t\t}\n\t\treturn req.then(res => res.body);\n\t}\n\n\t/**\n\t * List OAuth client created by the account\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} [options.product] List clients for this product ID or slug\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tlistOAuthClients({ product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/clients` : '/v1/clients';\n\t\treturn this.get(uri, auth, undefined, context);\n\t}\n\n\t/**\n\t * Create an OAuth client\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.name               Name of the OAuth client\n\t * @param  {String} options.type               web, installed or web\n\t * @param  {String} [options.redirect_uri]     URL to redirect after OAuth flow. Only for type web.\n\t * @param  {Object} [options.scope]            Limits what the access tokens created by this client can do.\n\t * @param  {String} [options.product]          Create client for this product ID or slug\n\t * @param  {String} options.auth               Access Token\n\t * @return {Promise}\n\t */\n\tcreateOAuthClient({ name, type, redirect_uri, scope, product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/clients` : '/v1/clients';\n\t\tconst data = { name, type, redirect_uri, scope };\n\t\treturn this.post(uri, data, auth, context);\n\t}\n\n\t/**\n\t * Update an OAuth client\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.clientId           The OAuth client to update\n\t * @param  {String} [options.name]             New Name of the OAuth client\n\t * @param  {Object} [options.scope]            New scope of the OAuth client\n\t * @param  {String} [options.product]          Update client linked to this product ID or slug\n\t * @param  {String} options.auth               Access Token\n\t * @return {Promise}\n\t */\n\tupdateOAuthClient({ clientId, name, scope, product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/clients/${clientId}` : `/v1/clients/${clientId}`;\n\t\tconst data = { name, scope };\n\t\treturn this.put(uri, data, auth, context);\n\t}\n\n\t/**\n\t * Delete an OAuth client\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.clientId           The OAuth client to update\n\t * @param  {String} [options.product]          OAuth client linked to this product ID or slug\n\t * @param  {String} options.auth               Access Token\n\t * @return {Promise}\n\t */\n\tdeleteOAuthClient({ clientId, product, auth, context }) {\n\t\tconst uri = product ? `/v1/products/${product}/clients/${clientId}` : `/v1/clients/${clientId}`;\n\t\treturn this.delete(uri, undefined, auth, context);\n\t}\n\n\t/**\n\t * List products the account has access to\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tlistProducts({ auth, context }) {\n\t\treturn this.get('/v1/products', auth, undefined, context);\n\t}\n\n\t/**\n\t * Get detailed information about a product\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.product  Product ID or slug\n\t * @param  {String} options.auth     Access token\n\t * @return {Promise}\n\t */\n\tgetProduct({ product, auth, context }) {\n\t\treturn this.get(`/v1/products/${product}`, auth, undefined, context);\n\t}\n\n\t/**\n\t * List product firmware versions\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.product Firmware for this product ID or slug\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tlistProductFirmware({ product, auth, context }) {\n\t\treturn this.get(`/v1/products/${product}/firmware`, auth, undefined, context);\n\t}\n\n\t/**\n\t * List product firmware versions\n\t * @param  {Object} options Options for this API call\n\t * @param  {Object} options.file    Path or Buffer of the new firmware file\n\t *                                  Either a path or Buffer of the file contents in Node, or a File or Blob in the browser.\n\t * @param  {Number} options.version Version number of new firmware\n\t * @param  {String} options.title   Short identifier for the new firmware\n\t * @param  {String} [options.description] Longer description for the new firmware\n\t * @param  {String} options.product Firmware for this product ID or slug\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tuploadProductFirmware({ file, version, title, description, product, auth, context }) {\n\t\treturn this.request({\n\t\t\turi: `/v1/products/${product}/firmware`,\n\t\t\tmethod: 'post',\n\t\t\tfiles: {\n\t\t\t\t'firmware.bin': file\n\t\t\t},\n\t\t\tform: {\n\t\t\t\tversion,\n\t\t\t\ttitle,\n\t\t\t\tdescription\n\t\t\t},\n\t\t\tcontext,\n\t\t\tauth\n\t\t});\n\t}\n\n\t/**\n\t * Get information about a product firmware version\n\t * @param  {Object} options Options for this API call\n\t * @param  {Number} options.version Version number of firmware\n\t * @param  {String} options.product Firmware for this product ID or slug\n\t * @param  {String} options.auth    Access token\n\t * @return {Promise}\n\t */\n\tgetProductFirmware({ version, product, auth, context }) {\n\t\treturn this.get(`/v1/products/${product}/firmware/${version}`, auth, undefined, context);\n\t}\n\n\t/**\n\t * Update information for a product firmware version\n\t * @param  {Object} options Options for this API call\n\t * @param  {Number} options.version Version number of new firmware\n\t * @param  {String} [options.title]   New title\n\t * @param  {String} [options.description] New description\n\t * @param  {String} options.product Firmware for this product ID or slug\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tupdateProductFirmware({ version, title, description, product, auth, context }) {\n\t\tconst uri = `/v1/products/${product}/firmware/${version}`;\n\t\treturn this.put(uri, { title, description }, auth, context);\n\t}\n\n\t/**\n\t * Download a product firmware binary\n\t * @param  {Object} options Options for this API call\n\t * @param  {Number} options.version Version number of new firmware\n\t * @param  {String} options.product Firmware for this product ID or slug\n\t * @param  {String} options.auth    Access Token\n\t * @return {Request}\n\t */\n\tdownloadProductFirmware({ version, product, auth, context }) {\n\t\tconst uri = `/v1/products/${product}/firmware/${version}/binary`;\n\t\tconst req = request('get', uri);\n\t\treq.use(this.prefix);\n\t\tthis.headers(req, auth);\n\t\tif (this.debug) {\n\t\t\tthis.debug(req);\n\t\t}\n\t\treturn req;\n\t}\n\n\t/**\n\t * Release a product firmware version as the default version\n\t * @param  {Object} options Options for this API call\n\t * @param  {Number} options.version Version number of new firmware\n\t * @param  {String} options.product Firmware for this product ID or slug\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\treleaseProductFirmware({ version, product, auth, context }) {\n\t\tconst uri = `/v1/products/${product}/firmware/release`;\n\t\treturn this.put(uri, { version }, auth, context);\n\t}\n\n\t/**\n\t * List product team members\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.product Team for this product ID or slug\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tlistTeamMembers({ product, auth, context }) {\n\t\treturn this.get(`/v1/products/${product}/team`, auth, undefined, context);\n\t}\n\n\t/**\n\t * Invite Particle user to a product team\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.username  Username for the Particle account\n\t * @param  {String} options.product Team for this product ID or slug\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tinviteTeamMember({ username, product, auth, context }) {\n\t\treturn this.post(`/v1/products/${product}/team`, { username }, auth, context);\n\t}\n\n\t/**\n\t * Remove Particle user to a product team\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.username  Username for the Particle account\n\t * @param  {String} options.product Team for this product ID or slug\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tremoveTeamMember({ username, product, auth, context }) {\n\t\treturn this.delete(`/v1/products/${product}/team/${username}`, undefined, auth, context);\n\t}\n\n\t/**\n\t * Fetch details about a serial number\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.serialNumber The serial number printed on the barcode of the device packaging\n\t * @param  {String} options.auth Access Token\n\t * @return {Promise}\n\t */\n\tlookupSerialNumber({ serialNumber, auth, context }) {\n\t\treturn this.get(`/v1/serial_numbers/${serialNumber}`, auth, undefined, context);\n\t}\n\n\t/**\n\t * Create a mesh network\n\t * @param {Object} options Options for this API call\n\t * @param {String} options.name Network name\n\t * @param {String} options.deviceId Gateway device ID\n\t * @param {String} [options.iccid] ICCID of the active SIM card (only for cellular gateway devices)\n\t * @param {String} options.auth Access token\n\t * @param {Object} [options.context] Request context\n\t * @return {Promise<Object>}\n\t */\n\tcreateMeshNetwork({ name, deviceId, iccid, auth, context }) {\n\t\treturn this.post('/v1/networks', { name, device_id: deviceId, iccid }, auth, context);\n\t}\n\n\t/**\n\t * Remove a mesh network.\n\t * @param {Object} options Options for this API call\n\t * @param {String} options.networkId Network ID or name\n\t * @param {String} options.auth Access token\n\t * @param {Object} [options.context] Request context\n\t * @return {Promise<Object>}\n\t */\n\tremoveMeshNetwork({ networkId, auth, context }) {\n\t\treturn this.delete(`/v1/networks/${networkId}`, undefined, auth, context);\n\t}\n\n\t/**\n\t * List all mesh networks\n\t * @param {Object} options Options for this API call\n\t * @param {String} options.auth Access token\n\t * @param {Number} [options.page] Current page of results\n\t * @param {Number} [options.perPage] Records per page\n\t * @param {Object} [options.context] Request context\n\t * @return {Promise<Object>}\n\t */\n\tlistMeshNetworks({ auth, context, page, perPage }) {\n\t\tconst query = page ? { page, per_page: perPage } : undefined;\n\t\treturn this.get('/v1/networks', auth, query, context);\n\t}\n\n\t/**\n\t * Get information about a mesh network.\n\t * @param {Object} options Options for this API call\n\t * @param {String} options.networkId Network ID or name\n\t * @param {String} options.auth Access token\n\t * @param {Object} [options.context] Request context\n\t * @return {Promise<Object>}\n\t */\n\tgetMeshNetwork({ networkId, auth, context }) {\n\t\treturn this.get(`/v1/networks/${networkId}`, auth, undefined, context);\n\t}\n\n\t/**\n\t * Modify a mesh network.\n\t * @param {Object} options Options for this API call\n\t * @param {String} options.networkId Network ID or name\n\t * @param {String} options.action 'add-device', 'remove-device', 'gateway-enable' or 'gateway-disable'\n\t * @param {String} options.deviceId Device ID\n\t * @param {String} options.auth Access token\n\t * @param {Object} [options.context] Request context\n\t * @return {Promise<Object>}\n\t */\n\tupdateMeshNetwork({ networkId, action, deviceId, auth, context }) {\n\t\treturn this.put(`/v1/networks/${networkId}`, { action, device_id: deviceId }, auth, context);\n\t}\n\n\t/**\n\t * Add a device to a mesh network.\n\t * @param {Object} options Options for this API call\n\t * @param {String} options.networkId Network ID or name\n\t * @param {String} options.deviceId Device ID\n\t * @param {String} options.auth Access token\n\t * @param {Object} [options.context] Request context\n\t * @return {Promise<Object>}\n\t */\n\taddMeshNetworkDevice({ networkId, deviceId, auth, context }) {\n\t\treturn this.updateMeshNetwork({ action: 'add-device', networkId, deviceId, auth, context });\n\t}\n\n\t/**\n\t * Remove a device from a mesh network.\n\t * @param {Object} options Options for this API call\n\t * @param {String} options.networkId Network ID or name\n\t * @param {String} options.deviceId Device ID\n\t * @param {String} options.auth Access token\n\t * @param {Object} [options.context] Request context\n\t * @return {Promise<Object>}\n\t */\n\tremoveMeshNetworkDevice({ networkId, deviceId, auth, context }) {\n\t\treturn this.updateMeshNetwork({ action: 'remove-device', networkId, deviceId, auth, context });\n\t}\n\n\t/**\n\t * List all devices of a mesh network.\n\t * @param {Object} options Options for this API call\n\t * @param {String} options.networkId Network ID or name\n\t * @param {String} options.auth Access token\n\t * @param {Number} [options.role] Device role: 'gateway' or 'node'\n\t * @param {Number} [options.page] Current page of results\n\t * @param {Number} [options.perPage] Records per page\n\t * @param {Object} [options.context] Request context\n\t * @return {Promise<Object>}\n\t */\n\tlistMeshNetworkDevices({ networkId, auth, role, page, perPage, context }) {\n\t\tconst query = (role || page) ? { role, page, per_page: perPage } : undefined;\n\t\treturn this.get(`/v1/networks/${networkId}/devices`, auth, query, context);\n\t}\n\n\n\t/**\n\t * API URI to access a device\n\t * @param  {Object} options Options for this API call\n\t * @param  {String} options.deviceId  Device ID to access\n\t * @param  {String} [options.product] Device only in this product ID or slug\n\t * @private\n\t * @returns {string}\n\t */\n\tdeviceUri({ deviceId, product }) {\n\t\treturn product ? `/v1/products/${product}/devices/${deviceId}` : `/v1/devices/${deviceId}`;\n\t}\n\n\tget(uri, auth, query, context) {\n\t\tcontext = this._buildContext(context);\n\t\treturn this.agent.get(uri, auth, query, context);\n\t}\n\n\thead(uri, auth, query, context) {\n\t\tcontext = this._buildContext(context);\n\t\treturn this.agent.head(uri, auth, query, context);\n\t}\n\n\tpost(uri, data, auth, context) {\n\t\tcontext = this._buildContext(context);\n\t\treturn this.agent.post(uri, data, auth, context);\n\t}\n\n\tput(uri, data, auth, context) {\n\t\tcontext = this._buildContext(context);\n\t\treturn this.agent.put(uri, data, auth, context);\n\t}\n\n\tdelete(uri, data, auth, context) {\n\t\tcontext = this._buildContext(context);\n\t\treturn this.agent.delete(uri, data, auth, context);\n\t}\n\n\trequest(args) {\n\t\targs.context = this._buildContext(args.context);\n\t\treturn this.agent.request(args);\n\t}\n\n\tclient(options = {}) {\n\t\treturn new Client(Object.assign({ api: this }, options));\n\t}\n}\n\n// Aliases for backwards compatibility\nParticle.prototype.removeAccessToken = Particle.prototype.deleteAccessToken;\n\nexport default Particle;\n"]}